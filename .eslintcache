[{"G:\\GitHub\\fsg-platform\\fsg-client\\src\\index.js":"1","G:\\GitHub\\fsg-platform\\fsg-client\\src\\App.js":"2","G:\\GitHub\\fsg-platform\\fsg-client\\src\\reportWebVitals.js":"3","G:\\GitHub\\fsg-platform\\fsg-client\\src\\components\\MainMenu.js":"4","G:\\GitHub\\fsg-platform\\fsg-client\\src\\components\\MainPage.js":"5","G:\\GitHub\\fsg-platform\\fsg-client\\src\\components\\SocialLogin.js":"6","G:\\GitHub\\fsg-platform\\fsg-client\\src\\components\\DevLogin.js":"7","G:\\GitHub\\fsg-platform\\fsg-client\\src\\components\\CreateDisplayName.js":"8","G:\\GitHub\\fsg-platform\\fsg-client\\src\\components\\DevManageGame.js":"9","G:\\GitHub\\fsg-platform\\fsg-client\\src\\components\\DevCreateGame.js":"10","G:\\GitHub\\fsg-platform\\fsg-client\\src\\components\\DevDashboard.js":"11","G:\\GitHub\\fsg-platform\\fsg-client\\src\\actions\\history.js":"12","G:\\GitHub\\fsg-platform\\fsg-client\\src\\components\\ProtectedRoute.js":"13","G:\\GitHub\\fsg-platform\\fsg-client\\src\\actions\\person.js":"14","G:\\GitHub\\fsg-platform\\fsg-client\\src\\components\\GameList.js":"15","G:\\GitHub\\fsg-platform\\fsg-client\\src\\components\\DevManageGameFields.js":"16","G:\\GitHub\\fsg-platform\\fsg-client\\src\\components\\DevCreateServer.js":"17","G:\\GitHub\\fsg-platform\\fsg-client\\src\\components\\DevClientBundle.js":"18","G:\\GitHub\\fsg-platform\\fsg-client\\src\\components\\DevClientList.js":"19","G:\\GitHub\\fsg-platform\\fsg-client\\src\\actions\\devgame.js":"20","G:\\GitHub\\fsg-platform\\fsg-client\\src\\components\\DevImageUpload.js":"21","G:\\GitHub\\fsg-platform\\fsg-client\\src\\actions\\http.js":"22","G:\\GitHub\\fsg-platform\\fsg-client\\src\\components\\DevClientListItem.js":"23","G:\\GitHub\\fsg-platform\\fsg-client\\src\\components\\DevImageUploadBox.js":"24","G:\\GitHub\\fsg-platform\\fsg-client\\src\\components\\GamePanel.js":"25","G:\\GitHub\\fsg-platform\\fsg-client\\src\\util\\PSON.js":"26"},{"size":505,"mtime":1613807664315,"results":"27","hashOfConfig":"28"},{"size":3191,"mtime":1615095654879,"results":"29","hashOfConfig":"28"},{"size":362,"mtime":1611351647142,"results":"30","hashOfConfig":"28"},{"size":1114,"mtime":1614552501066,"results":"31","hashOfConfig":"28"},{"size":5795,"mtime":1615840234505,"results":"32","hashOfConfig":"28"},{"size":995,"mtime":1614551231543,"results":"33","hashOfConfig":"28"},{"size":1196,"mtime":1614494272555,"results":"34","hashOfConfig":"28"},{"size":2346,"mtime":1614541990632,"results":"35","hashOfConfig":"28"},{"size":1646,"mtime":1614445102422,"results":"36","hashOfConfig":"28"},{"size":3934,"mtime":1615061799449,"results":"37","hashOfConfig":"28"},{"size":1648,"mtime":1614493291561,"results":"38","hashOfConfig":"28"},{"size":87,"mtime":1614538170423,"results":"39","hashOfConfig":"28"},{"size":1261,"mtime":1615095733897,"results":"40","hashOfConfig":"28"},{"size":1302,"mtime":1616270876586,"results":"41","hashOfConfig":"28"},{"size":419,"mtime":1612541120518,"results":"42","hashOfConfig":"28"},{"size":4524,"mtime":1615061799449,"results":"43","hashOfConfig":"28"},{"size":2225,"mtime":1615061799450,"results":"44","hashOfConfig":"28"},{"size":2386,"mtime":1613934701564,"results":"45","hashOfConfig":"28"},{"size":941,"mtime":1613806782999,"results":"46","hashOfConfig":"28"},{"size":14649,"mtime":1616270871520,"results":"47","hashOfConfig":"28"},{"size":3289,"mtime":1613856785646,"results":"48","hashOfConfig":"28"},{"size":880,"mtime":1613359677920,"results":"49","hashOfConfig":"28"},{"size":1721,"mtime":1613876324567,"results":"50","hashOfConfig":"28"},{"size":1735,"mtime":1613359677925,"results":"51","hashOfConfig":"28"},{"size":1693,"mtime":1615099119273,"results":"52","hashOfConfig":"28"},{"size":19724,"mtime":1615671660961,"results":"53","hashOfConfig":"28"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},"1r4qru2",{"filePath":"57","messages":"58","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59","usedDeprecatedRules":"56"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"64","usedDeprecatedRules":"56"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"67","usedDeprecatedRules":"56"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70","usedDeprecatedRules":"56"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"73","usedDeprecatedRules":"56"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"76","usedDeprecatedRules":"56"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"79","usedDeprecatedRules":"56"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"82","usedDeprecatedRules":"56"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"85","usedDeprecatedRules":"56"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"90","usedDeprecatedRules":"56"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"93","usedDeprecatedRules":"56"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"100","usedDeprecatedRules":"56"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"103","usedDeprecatedRules":"56"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"106","usedDeprecatedRules":"56"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":"109","usedDeprecatedRules":"56"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"112","usedDeprecatedRules":"56"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"117","usedDeprecatedRules":"118"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"121","messages":"122","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"123","usedDeprecatedRules":"56"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"126","usedDeprecatedRules":"127"},"G:\\GitHub\\fsg-platform\\fsg-client\\src\\index.js",[],["128","129"],"G:\\GitHub\\fsg-platform\\fsg-client\\src\\App.js",["130"],"import React, { Component } from \"react\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\";\n\nimport MainMenu from './components/MainMenu'\nimport MainPage from './components/MainPage';\nimport SocialLogin from './components/SocialLogin';\nimport DevLogin from './components/DevLogin';\nimport CreateDisplayName from './components/CreateDisplayName';\nimport DevDashboard from \"./components/DevDashboard\";\nimport DevCreateGame from \"./components/DevCreateGame\";\nimport DevManageGame from \"./components/DevManageGame\";\nimport ProtectedRoute from './components/ProtectedRoute';\nimport GamePanel from './components/GamePanel';\nimport './App.css';\n\nimport flatstore from 'flatstore';\n\nimport { getUserProfile } from './actions/person';\nimport history from \"./actions/history\";\nflatstore.set('user', null);\n\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    getUserProfile();\n\n  }\n\n  render() {\n    return (\n      <div id=\"app\">\n        <Router history={history} >\n          <table id=\"wrapper\">\n            <tbody>\n              <tr>\n                <td>\n                  <MainMenu />\n                </td>\n                <td>\n                  <ProtectedRoute\n                    exact\n                    path=\"/player/create\"\n                    component={CreateDisplayName}\n                  />\n                  <Switch>\n                    <Route\n                      exact\n                      path=\"/\"\n                      component={MainPage}\n                    />\n                    <Route\n                      exact\n                      path=\"/game/\"\n                      component={GamePanel}\n                    />\n                    <Route\n                      exact\n                      path=\"/login\"\n                      component={SocialLogin}\n                    />\n                    <Route\n                      exact\n                      path=\"/dev/login\"\n                      component={DevLogin}\n                    />\n                    <ProtectedRoute\n                      exact\n                      path=\"/dev/game/create\"\n                      component={DevCreateGame}\n                      verify={(user) => user.isdev}\n                      redirectTo=\"/dev/login\"\n                    />\n                    <ProtectedRoute\n                      exact\n                      path=\"/dev/game/:gameid\"\n                      component={DevManageGame}\n                      verify={(user) => 'github' in user}\n                      redirectTo=\"/dev/login\"\n                    />\n                    <ProtectedRoute\n                      exact\n                      path=\"/dev/:id?\"\n                      component={DevDashboard}\n                      verify={(user) => 'github' in user}\n                      redirectTo=\"/dev/login\"\n                    />\n\n                    <Route\n                      exact\n                      path=\"/games\"\n                      component={MainPage}\n                    />\n                  </Switch>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </Router>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","G:\\GitHub\\fsg-platform\\fsg-client\\src\\reportWebVitals.js",[],"G:\\GitHub\\fsg-platform\\fsg-client\\src\\components\\MainMenu.js",["131"],"import { Component } from \"react\";\r\n\r\nimport {\r\n    Link,\r\n    withRouter,\r\n} from \"react-router-dom\";\r\nimport SocialLogin from \"./SocialLogin\";\r\n\r\nimport fs from 'flatstore';\r\n\r\nimport './styles/MainPage.css';\r\n\r\nfs.set('pagehistory', []);\r\n\r\nclass MainMenu extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n    updateHistory() {\r\n        let history = fs.get('pagehistory');\r\n        history.push(Object.assign({}, this.props.location));\r\n\r\n        if (history.length > 20) {\r\n            history = history.splice(history.length - 21);\r\n        }\r\n\r\n        fs.set('pagehistory', history);\r\n    }\r\n\r\n    render() {\r\n\r\n        this.updateHistory();\r\n\r\n        return (\r\n            <div id=\"mainmenu\">\r\n                <ul>\r\n                    <li><Link to=\"/games\">Find Games</Link></li>\r\n                    <li><Link to=\"/dev\">Developer Dashboard</Link></li>\r\n                    <li><Link to=\"/dev/game/create\">Create Game</Link></li>\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(MainMenu);\r\n\r\n","G:\\GitHub\\fsg-platform\\fsg-client\\src\\components\\MainPage.js",["132"],"import { Component } from \"react\";\r\n\r\nimport {\r\n    withRouter,\r\n} from \"react-router-dom\";\r\nimport GameList from \"./GameList\";\r\n\r\nimport { w3cwebsocket as W3CWebSocket } from \"websocket\";\r\n\r\nimport { encode, decode } from 'fsg-shared/util/encoder';\r\n\r\nclass MainPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n        }\r\n\r\n        this.sent = 0;\r\n\r\n        this.connect();\r\n    }\r\n\r\n    parseCookies() {\r\n        let cookies = {};\r\n        document.cookie.split(';').forEach(v => {\r\n            let pair = v.split('=');\r\n            cookies[pair[0].trim()] = pair[1].trim();\r\n        })\r\n        return cookies;\r\n    }\r\n\r\n    connect() {\r\n        let cookies = this.parseCookies();\r\n        this.client = new W3CWebSocket('ws://127.0.0.1:9001/g/1234', cookies['X-API-KEY'], 'http://localhost:3000', {});\r\n        this.client.onopen = (err) => {\r\n            console.log(err);\r\n            console.log('WebSocket Client Connected');\r\n\r\n            if (this.client.readyState == this.client.OPEN) {\r\n\r\n                let payload = { \"state\": { \"deck\": [\"2D\", \"3C\", \"2S\", \"JC\", \"4S\", \"9C\", \"KC\", \"4D\", \"AC\", \"7D\", \"4C\", \"8C\", \"6C\", \"WW\", \"TC\", \"5S\", \"3H\", \"5D\", \"8S\", \"3D\", \"2C\", \"QS\", \"6D\", \"9S\", \"QH\", \"7S\", \"AH\", \"8H\", \"3S\", \"AS\", \"TD\", \"4H\"], \"seats\": \"Joel,Tim,Bob,Bob2,Bob3,Bob4,Bob5,0,0,0\", \"players\": { \"Joel\": { \"name\": \"Joel\", \"cards\": \"4D,WW\", \"active\": true, \"status\": 2, \"chips\": 93, \"bets\": \"90\", \"seat\": 0, \"betpool\": 0 }, \"Tim\": { \"name\": \"Tim\", \"cards\": \"4C,9H\", \"active\": true, \"status\": 3, \"chips\": 103, \"bets\": \"96\", \"seat\": 1, \"betpool\": 0 }, \"Bob\": { \"name\": \"Bob\", \"cards\": \"2S,2C\", \"active\": false, \"status\": 3, \"chips\": 98, \"bets\": \"2\", \"seat\": 2, \"betpool\": 0 }, \"Bob2\": { \"name\": \"Bob2\", \"cards\": \"2H,6S\", \"active\": false, \"status\": 3, \"chips\": 96, \"bets\": \"4\", \"seat\": 3, \"betpool\": 0 }, \"Bob3\": { \"name\": \"Bob3\", \"cards\": \"TD,KS\", \"active\": false, \"status\": 3, \"chips\": 100, \"bets\": \"0\", \"seat\": 4, \"betpool\": 0 }, \"Bob4\": { \"name\": \"Bob4\", \"cards\": \"4S,WW\", \"active\": false, \"status\": 3, \"chips\": 100, \"bets\": \"0\", \"seat\": 5, \"betpool\": 0 }, \"Bob5\": { \"name\": \"Bob5\", \"cards\": \"7S,QD\", \"active\": false, \"status\": 3, \"chips\": 100, \"bets\": \"0\", \"seat\": 6, \"betpool\": 0 } }, \"burned\": \"6S,JS,9H\", \"table\": \"QD,7H,TS,6H,WW\", \"dealer\": 1, \"blinds\": \"2,3\", \"phase\": 4, \"pot\": 192, \"bettingPot\": \"96\", \"betcount\": 2, \"lastBet\": 96, \"lastBetter\": 1, \"lastAction\": \"fold\", \"minBet\": 4, \"maxBet\": 8 }, \"rules\": { \"deck\": { \"decks\": 1, \"jokers\": 2, \"type\": \"standard52\" }, \"game\": \"\" }, \"next\": { \"seatid\": 3, \"actions\": \"call,fold\" }, \"errors\": \"\", \"hands\": [[{ \"rank\": 7, \"score\": 10, \"name\": \"Straight\", \"hand\": \"6H,7H,WW,WW,TS\", \"player\": \"Joel\", \"chips\": 93 }, { \"rank\": 7, \"score\": 10, \"name\": \"Straight\", \"hand\": \"6H,7H,WW,9H,TS\", \"player\": \"Tim\", \"chips\": 99 }]] };\r\n\r\n                let msg = encode(payload);\r\n                console.log(\"msg size: \", msg.length);\r\n                this.client.send(msg);\r\n            }\r\n\r\n        };\r\n\r\n        this.client.onerror = (error) => {\r\n            console.error(error);\r\n        }\r\n        this.client.onmessage = async (message) => {\r\n            let buffer = await message.data.arrayBuffer();\r\n            let msg = decode(buffer);\r\n            console.log(msg);\r\n            // let buffer = await message.data.arrayBuffer();\r\n            // console.log(\"buffer size: \", buffer.byteLength);\r\n            // let decoded = this.pson.decode(buffer);\r\n            // console.log(decoded);\r\n\r\n            // if (this.sent < 2) {\r\n            //     this.sent++;\r\n\r\n            //     let encoded = this.pson.encode({ \"state\": { \"deck\": [\"2D\", \"3C\", \"2S\", \"JC\", \"4S\", \"9C\", \"KC\", \"4D\", \"AC\", \"7D\", \"4C\", \"8C\", \"6C\", \"WW\", \"TC\", \"5S\", \"3H\", \"5D\", \"8S\", \"3D\", \"2C\", \"QS\", \"6D\", \"9S\", \"QH\", \"7S\", \"AH\", \"8H\", \"3S\", \"AS\", \"TD\", \"4H\"], \"seats\": \"Joel,Tim,Bob,Bob2,Bob3,Bob4,Bob5,0,0,0\", \"players\": { \"Joel\": { \"name\": \"Joel\", \"cards\": \"4D,WW\", \"active\": true, \"status\": 2, \"chips\": 93, \"bets\": \"90\", \"seat\": 0, \"betpool\": 0 }, \"Tim\": { \"name\": \"Tim\", \"cards\": \"4C,9H\", \"active\": true, \"status\": 3, \"chips\": 103, \"bets\": \"96\", \"seat\": 1, \"betpool\": 0 }, \"Bob\": { \"name\": \"Bob\", \"cards\": \"2S,2C\", \"active\": false, \"status\": 3, \"chips\": 98, \"bets\": \"2\", \"seat\": 2, \"betpool\": 0 }, \"Bob2\": { \"name\": \"Bob2\", \"cards\": \"2H,6S\", \"active\": false, \"status\": 3, \"chips\": 96, \"bets\": \"4\", \"seat\": 3, \"betpool\": 0 }, \"Bob3\": { \"name\": \"Bob3\", \"cards\": \"TD,KS\", \"active\": false, \"status\": 3, \"chips\": 100, \"bets\": \"0\", \"seat\": 4, \"betpool\": 0 }, \"Bob4\": { \"name\": \"Bob4\", \"cards\": \"4S,WW\", \"active\": false, \"status\": 3, \"chips\": 100, \"bets\": \"0\", \"seat\": 5, \"betpool\": 0 }, \"Bob5\": { \"name\": \"Bob5\", \"cards\": \"7S,QD\", \"active\": false, \"status\": 3, \"chips\": 100, \"bets\": \"0\", \"seat\": 6, \"betpool\": 0 } }, \"burned\": \"6S,JS,9H\", \"table\": \"QD,7H,TS,6H,WW\", \"dealer\": 1, \"blinds\": \"2,3\", \"phase\": 4, \"pot\": 192, \"bettingPot\": \"96\", \"betcount\": 2, \"lastBet\": 96, \"lastBetter\": 1, \"lastAction\": \"fold\", \"minBet\": 4, \"maxBet\": 8 }, \"rules\": { \"deck\": { \"decks\": 1, \"jokers\": 2, \"type\": \"standard52\" }, \"game\": \"\" }, \"next\": { \"seatid\": 3, \"actions\": \"call,fold\" }, \"errors\": \"\", \"hands\": [[{ \"rank\": 7, \"score\": 10, \"name\": \"Straight\", \"hand\": \"6H,7H,WW,WW,TS\", \"player\": \"Joel\", \"chips\": 93 }, { \"rank\": 7, \"score\": 10, \"name\": \"Straight\", \"hand\": \"6H,7H,WW,9H,TS\", \"player\": \"Tim\", \"chips\": 99 }]] })\r\n\r\n            //     let buffer = encoded.toArrayBuffer();\r\n            //     console.log(\"buffer size: \", buffer.byteLength);\r\n            //     this.client.send(buffer);\r\n            // }\r\n        };\r\n    }\r\n    render() {\r\n        return (\r\n            <div id=\"mainpage\">\r\n                <GameList />\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(MainPage);\r\n\r\n","G:\\GitHub\\fsg-platform\\fsg-client\\src\\components\\SocialLogin.js",["133","134","135","136"],"import { Component, Fragment } from \"react\";\r\nimport fs from 'flatstore';\r\n\r\nimport {\r\n    Link,\r\n    withRouter,\r\n    Redirect,\r\n} from \"react-router-dom\";\r\n\r\nclass SocialLogin extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    render() {\r\n        let user = this.props.user;\r\n        if (user && user.apikey && user.apikey.length > 0 && user.apikey != 'undefined') {\r\n            return <Redirect to=\"/games\"></Redirect>\r\n        }\r\n        return (\r\n            <div id=\"social\">\r\n                <h4>Login to Play!</h4>\r\n                <ul>\r\n                    <li><a href=\"http://localhost:8080/login/google\">with Google</a></li>\r\n                    <li><a href=\"http://localhost:8080/login/microsoft\">with Microsft</a></li>\r\n                    <li><a href=\"http://localhost:8080/login/github\">with GitHub as Developer</a></li>\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(fs.connect(['user'])(SocialLogin));","G:\\GitHub\\fsg-platform\\fsg-client\\src\\components\\DevLogin.js",["137","138","139","140"],"import { Component, Fragment } from \"react\";\r\nimport fs from 'flatstore';\r\n\r\nimport {\r\n    Link,\r\n    withRouter,\r\n} from \"react-router-dom\";\r\n\r\nclass DevLogin extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    render() {\r\n        let user = this.props.user;\r\n        if (user && user.apikey && user.apikey.length > 0 && user.apikey != 'undefined') {\r\n            return <Fragment></Fragment>\r\n        }\r\n        return (\r\n            <div id=\"social\">\r\n                <h4>Login to Create a Game!</h4>\r\n                <p>\r\n                    Join our GitHub Organization at <a href=\"\">fivesecondgames</a> and start creating and publishing games instantly.\r\n                    All teams and repositories are created under this organization, but the code is yours.\r\n                    This setup will allow game mods and variations to be created by other developers in a clean and organized way.\r\n                </p>\r\n                <ul>\r\n                    <li><a href=\"http://localhost:8080/login/github\">Login using GitHub</a></li>\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(fs.connect(['user'])(DevLogin));","G:\\GitHub\\fsg-platform\\fsg-client\\src\\components\\CreateDisplayName.js",["141","142","143","144"],"import { Component } from \"react\";\r\n\r\nimport {\r\n    withRouter,\r\n} from \"react-router-dom\";\r\n\r\nimport { createDisplayName } from '../actions/person';\r\nimport fs from 'flatstore';\r\n\r\nclass CreateDisplayName extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            displayname: \"\"\r\n        }\r\n    }\r\n\r\n    async onSubmit(e) {\r\n        console.log(e);\r\n        let displayname = this.state.displayname;\r\n        let user = await createDisplayName(displayname);\r\n        if (user.ecode == 'E_EXISTS_DISPLAYNAME') {\r\n            this.setState({ error: `The name '${displayname}' already exists.` })\r\n        }\r\n        else if (user.ecode == 'E_PERSON_DUPENAME') {\r\n            this.setState({ error: `The name '${displayname}' already exists.` })\r\n        }\r\n        else {\r\n\r\n            this.redirect();\r\n        }\r\n    }\r\n\r\n    redirect() {\r\n        let history = fs.get('pagehistory');\r\n\r\n        if (this.props.user.github_id) {\r\n            this.props.history.push('/dev');\r\n            return;\r\n        }\r\n\r\n        this.props.history.push('/games');\r\n\r\n        // let previous = history[history.length - 2] || history[history.length - 1];\r\n        // if (previous.pathname.indexOf('/player/create') > -1) {\r\n        //     this.props.history.push('/games');\r\n        //     return;\r\n        // }\r\n\r\n        // this.props.history.goBack();\r\n        // history.pop();\r\n        // fs.set('pagehistory', history);\r\n    }\r\n\r\n    onChange(e) {\r\n        console.log(e.target.value);\r\n        let name = e.target.value;\r\n        name = name.replace(/[^A-Za-z0-9\\_]/ig, '');\r\n        this.setState({ displayname: name });\r\n    }\r\n\r\n    render() {\r\n        let hasError = (this.state.error && this.state.error.length > 0);\r\n        return (\r\n            <div>\r\n                <h3>Choose Display Name</h3>\r\n\r\n                <input type=\"text\" onChange={this.onChange.bind(this)} value={this.state.displayname} />\r\n\r\n                <button onClick={this.onSubmit.bind(this)}>Submit</button>\r\n                {\r\n                    hasError && (\r\n                        <div>\r\n                            <span>{this.state.error}</span>\r\n                        </div>\r\n                    )\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(CreateDisplayName);","G:\\GitHub\\fsg-platform\\fsg-client\\src\\components\\DevManageGame.js",["145","146"],"import { Component, Fragment } from \"react\";\r\n\r\nimport {\r\n    withRouter,\r\n} from \"react-router-dom\";\r\nimport DevManageGameFields from \"./DevManageGameFields\";\r\nimport DevClientBundle from \"./DevClientBundle\";\r\nimport DevCreateServer from './DevCreateServer';\r\nimport DevClientList from './DevClientList';\r\nimport { findGame } from '../actions/devgame';\r\n\r\nclass DevManageGame extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        let gameid = props.match.params.gameid;\r\n        findGame(gameid);\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div id=\"devmanagegame\">\r\n\r\n                <DevManageGameFields />\r\n\r\n                <div id=\"testenv\">\r\n                    <h2>Test Environment</h2>\r\n                    <div id=\"manageclients\">\r\n                        <h3>Add your client bundle.</h3>\r\n                        <DevClientBundle env=\"test\" />\r\n                    </div>\r\n\r\n                    <div id=\"manageservers\">\r\n                        <DevCreateServer env=\"test\" />\r\n                    </div>\r\n                </div>\r\n\r\n                {/* <div id=\"prodenv\">\r\n                    <h2>Production Environment</h2>\r\n                    <div id=\"manageclients\">\r\n                        <h3>Add your client bundle.</h3>\r\n                        <DevClientBundle env=\"test\" />\r\n                    </div>\r\n\r\n                    <div id=\"manageservers\">\r\n                        <DevCreateServer env=\"test\" />\r\n                    </div>\r\n                </div> */}\r\n\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(DevManageGame);","G:\\GitHub\\fsg-platform\\fsg-client\\src\\components\\DevCreateGame.js",["147"],"import { Component, Fragment } from \"react\";\r\n\r\nimport {\r\n    withRouter,\r\n} from \"react-router-dom\";\r\nimport DevImageUpload from \"./DevImageUpload\";\r\n\r\nimport { updateGameField, createGame, clearGameFields } from '../actions/devgame';\r\nimport fs from 'flatstore';\r\n\r\nimport errorMessage from 'fsg-shared/model/errorcodes';\r\n\r\nclass DevCreateGame extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        clearGameFields();\r\n\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n    async onSubmit(e) {\r\n        //console.log(e);\r\n        let game = await createGame();\r\n        if (!game) {\r\n            return;\r\n        }\r\n\r\n        this.props.history.replace('/dev/game/' + game.gameid);\r\n    }\r\n\r\n    inputChange(e) {\r\n        let name = e.target.name;\r\n        let value = e.target.value;\r\n\r\n        updateGameField(name, value);\r\n    }\r\n\r\n    onChange(key, value, group) {\r\n        console.log(key, value, group);\r\n    }\r\n\r\n    displayError() {\r\n        let errors = this.props.devgameerror;\r\n        if (!errors)\r\n            return <Fragment></Fragment>\r\n\r\n        let errorElems = [];\r\n        errors.forEach((error, id) => {\r\n            errorElems.push((<li key={id}>{errorMessage(error)}</li>))\r\n        })\r\n\r\n        return errorElems;\r\n    }\r\n    /*\r\n        Create Game Fields\r\n        - Game Name\r\n        - Version\r\n        - Short Desc\r\n        - Long Desc\r\n        - Promo Image(s)\r\n        - link client git repo\r\n        - link server git repo\r\n        - uploaded client build\r\n        - uploaded server build\r\n        - uploaded game rules and private fields\r\n        - Save, Publish, Cancel\r\n        - Withdrawn (reason) //could be done by admin or by owner\r\n    */\r\n    render() {\r\n        let hasError = (this.props.devgameerror && this.props.devgameerror.length > 0);\r\n        return (\r\n            <div id=\"creategame\" className=\"inputform\">\r\n                <h3>Alright, lets set up your game.</h3>\r\n\r\n                {hasError && this.displayError()}\r\n\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"name\"\r\n                    placeholder=\"Game Name\"\r\n                    maxLength=\"60\"\r\n                    onChange={this.inputChange.bind(this)} />\r\n                <br />\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"shortid\"\r\n                    placeholder=\"Slug Name (lower a-z and - only)\"\r\n                    maxLength=\"32\"\r\n                    onChange={this.inputChange.bind(this)} />\r\n                <br />\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"shortdesc\"\r\n                    placeholder=\"Short Description\"\r\n                    maxLength=\"80\"\r\n                    onChange={this.inputChange.bind(this)} />\r\n                <br />\r\n                <textarea\r\n                    type=\"text\"\r\n                    name=\"longdesc\"\r\n                    placeholder=\"Long Description\"\r\n                    maxLength=\"1200\"\r\n                    onChange={this.inputChange.bind(this)}>\r\n                </textarea>\r\n                <br />\r\n                {/* <input\r\n                    type=\"text\"\r\n                    name=\"git_client\"\r\n                    placeholder=\"Client Git URL\"\r\n                    maxLength=\"255\"\r\n                    onChange={this.inputChange.bind(this)} />\r\n                <br />\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"git_server\"\r\n                    placeholder=\"Server Git URL (optional)\"\r\n                    maxLength=\"255\"\r\n                    onChange={this.inputChange.bind(this)} />\r\n                <br /> */}\r\n\r\n                <button\r\n                    onClick={this.onSubmit.bind(this)}>\r\n                    Submit\r\n                </button>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(fs.connect(['devgame', 'devgameerror'])(DevCreateGame));","G:\\GitHub\\fsg-platform\\fsg-client\\src\\components\\DevDashboard.js",["148"],"import { Component } from \"react\";\r\n\r\nimport { findDevGames } from '../actions/devgame';\r\n\r\nimport {\r\n    Link,\r\n    withRouter,\r\n} from \"react-router-dom\";\r\nimport fs from 'flatstore';\r\n\r\nclass DevDashboard extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n        }\r\n\r\n\r\n    }\r\n\r\n    showInvitation() {\r\n        let user = this.props.user;\r\n        if (user.isdev) {\r\n            return <h4>Organization: fivesecondgames</h4>\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <span><a class=\"button\" href=\"https://github.com/orgs/fivesecondgames/invitation\">Accept Invitation</a> to Github Organization \"fivescondgames\"</span>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    listGames() {\r\n        let games = this.props.devgames || [];\r\n        let elems = [];\r\n\r\n        for (var i = 0; i < games.length; i++) {\r\n            let game = games[i];\r\n            elems.push((\r\n                <li className=\"devgame-item\">\r\n                    <Link to={'/dev/game/' + game.gameid}>{game.name}</Link>\r\n                </li>\r\n            ))\r\n        }\r\n        return elems;\r\n    }\r\n    /*\r\n        Dashboard\r\n        - Published games with stats\r\n        - beta games with stats\r\n        - create new game\r\n        - documentation\r\n        - exmaple code\r\n        - discord\r\n    */\r\n    render() {\r\n        return (\r\n            <div id=\"devdash\">\r\n                {this.showInvitation()}\r\n                <ul>\r\n                    {this.listGames()}\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(fs.connect(['devgames'])(DevDashboard));\r\n\r\n","G:\\GitHub\\fsg-platform\\fsg-client\\src\\actions\\history.js",[],"G:\\GitHub\\fsg-platform\\fsg-client\\src\\components\\ProtectedRoute.js",["149","150"],"import { Component } from \"react\";\r\n\r\nimport {\r\n    Route,\r\n    Redirect,\r\n    withRouter,\r\n} from \"react-router-dom\";\r\nimport fs from 'flatstore';\r\nimport SocialLogin from \"./SocialLogin\";\r\n\r\nclass ProtectedRoute extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        // if (!this.props.user && this.props.location.pathname.indexOf(\"/login\") == -1) {\r\n        //     return <Redirect to=\"/login\"></Redirect>\r\n        // }\r\n\r\n        if (this.props.user && !this.props.user.displayname && this.props.location.pathname.indexOf(\"/player/create\") == -1) {\r\n            return <Redirect to=\"/player/create\"></Redirect>\r\n        }\r\n\r\n        if (this.props.user && this.props.verify && !this.props.verify(this.props.user) && this.props.location.pathname.indexOf(\"/login\")) {\r\n            return <Redirect to={this.props.redirectTo || \"/login\"}></Redirect>\r\n        }\r\n\r\n        let Child = this.props.component;\r\n        return (\r\n            <Route exact={this.props.exact} path={this.props.path}>\r\n                <Child user={this.props.user}></Child>\r\n            </Route>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(fs.connect(['user', 'userid'])(ProtectedRoute));\r\n\r\n","G:\\GitHub\\fsg-platform\\fsg-client\\src\\actions\\person.js",["151","152","153"],"import { GET, POST } from './http';\r\nimport fs from 'flatstore';\r\nimport { findDevGames } from './devgame';\r\nimport history from \"./history\";\r\n\r\nexport async function createDisplayName(displayname) {\r\n\r\n    try {\r\n        let response = await POST('/api/v1/person/create/displayname', { displayname });\r\n        let user = response.data;\r\n\r\n        let existing = fs.get('user');\r\n        Object.assign(existing, user);\r\n\r\n        fs.set('user', existing);\r\n        fs.set('userid', existing.id);\r\n\r\n        console.log(existing);\r\n        return existing;\r\n    }\r\n    catch (e) {\r\n        console.error(e);\r\n        return e.response.data;\r\n    }\r\n    return null;\r\n}\r\n\r\nexport async function getUserProfile() {\r\n    try {\r\n\r\n        let response = await GET('/api/v1/person');\r\n        let user = response.data;\r\n\r\n        if (user.ecode) {\r\n            return null;\r\n        }\r\n        console.log(user);\r\n        fs.set('user', user);\r\n        fs.set('userid', user.id);\r\n        if (user.isdev)\r\n            await findDevGames(user.id)\r\n\r\n\r\n        if (!user.displayname || user.displayname.length == 0) {\r\n            history.push('/player/create');\r\n        }\r\n\r\n        return user;\r\n    }\r\n    catch (e) {\r\n        console.error(e);\r\n        return e.response.data;\r\n    }\r\n    return null;\r\n}","G:\\GitHub\\fsg-platform\\fsg-client\\src\\components\\GameList.js",[],"G:\\GitHub\\fsg-platform\\fsg-client\\src\\components\\DevManageGameFields.js",[],"G:\\GitHub\\fsg-platform\\fsg-client\\src\\components\\DevCreateServer.js",["154"],"import { Component, Fragment } from \"react\";\r\n\r\nimport {\r\n    withRouter,\r\n} from \"react-router-dom\";\r\nimport DevImageUpload from \"./DevImageUpload\";\r\n\r\nimport { updateServerField, createServer } from '../actions/devgame';\r\nimport fs from 'flatstore';\r\n\r\nimport errorMessage from 'fsg-shared/model/errorcodes';\r\n\r\nclass DevCreateServer extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n    async onSubmit(e) {\r\n        //console.log(e);\r\n        let game = await createServer();\r\n        if (!game) {\r\n            return;\r\n        }\r\n\r\n        // this.props.history.replace('/dev/game/' + game.gameid);\r\n    }\r\n\r\n    inputChange(e) {\r\n        let name = e.target.name;\r\n        let value = e.target.value;\r\n\r\n        updateServerField(name, value);\r\n    }\r\n\r\n    onChange(key, value, group) {\r\n        console.log(key, value, group);\r\n    }\r\n\r\n    displayError() {\r\n        let errors = this.props.devgameerror;\r\n        if (!errors)\r\n            return <Fragment></Fragment>\r\n\r\n        let errorElems = [];\r\n        errors.forEach((error, id) => {\r\n            errorElems.push((<li key={id}>{errorMessage(error)}</li>))\r\n        })\r\n\r\n        return errorElems;\r\n    }\r\n    /*\r\n        Create Game Fields\r\n        - Game Name\r\n        - Version\r\n        - Short Desc\r\n        - Long Desc\r\n        - Promo Image(s)\r\n        - link client git repo\r\n        - link server git repo\r\n        - uploaded client build\r\n        - uploaded server build\r\n        - uploaded game rules and private fields\r\n        - Save, Publish, Cancel\r\n        - Withdrawn (reason) //could be done by admin or by owner\r\n    */\r\n    render() {\r\n        let hasError = (this.props.devgameerror && this.props.devgameerror.length > 0);\r\n        return (\r\n            <div id=\"creategame\" className=\"inputform\">\r\n                <h3>Add your server bundle.</h3>\r\n\r\n                {hasError && this.displayError()}\r\n\r\n                <button\r\n                    onClick={this.onSubmit.bind(this)}>\r\n                    Submit\r\n                </button>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(fs.connect(['devserver', 'devservererror'])(DevCreateServer));","G:\\GitHub\\fsg-platform\\fsg-client\\src\\components\\DevClientBundle.js",["155","156","157","158","159"],"import React, { Component, Fragment } from 'react';\r\nimport fs from 'flatstore';\r\nimport DevImageUpload from './DevImageUpload'\r\nimport { updateGameField, updateGame, uploadClientBundle } from '../actions/devgame';\r\nimport moment from 'moment-timezone';\r\n\r\nclass DevClientBundle extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.fileRef = React.createRef();\r\n    }\r\n\r\n    onBundleChange(e) {\r\n        console.log(e);\r\n        let bundleFile = e.target.files[0];\r\n        uploadClientBundle({ id: this.props.id, gameid: this.props.gameid }, bundleFile);\r\n    }\r\n\r\n    onFileSelect(e) {\r\n        this.fileRef.current.click();\r\n    }\r\n    render() {\r\n        if (this.props.build_client) {\r\n            let currentTimeZone = new Intl.DateTimeFormat().resolvedOptions().timeZone;\r\n            return (\r\n                <div className=\"devclient\">\r\n                    <label>Build Version: </label>\r\n                    <span>{this.props.clientversion || 1}</span>\r\n                    <br />\r\n                    <label>Target Server: </label>\r\n                    <span>{this.props.serverversion || 1}</span>\r\n                    <br />\r\n                    <label>Updated: </label>\r\n                    <span>{moment.utc(this.props.tsupdate).tz(moment.tz.guess()).format(\"MMM DD, YYYY - h:mm A\")}</span>\r\n                    <br />\r\n                    <label><a href={this.props.build_client_url}>Download</a></label>\r\n\r\n                    <div className=\"devclientbundle\">\r\n                        <input type=\"file\" ref={this.fileRef} name=\"clientbundle\" accept=\".js\" style={{ display: \"none\" }} onChange={this.onBundleChange.bind(this)} />\r\n                        <button onClick={this.onFileSelect.bind(this)}>Update Bundle File</button>\r\n                    </div>\r\n                </div >\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"devclientbundle\">\r\n                <input type=\"file\" ref={this.fileRef} name=\"clientbundle\" accept=\".js\" onChange={this.onBundleChange.bind(this)} />\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nlet onCustomWatched = ownProps => {\r\n    return ['devClientBundle_' + ownProps.id];\r\n};\r\nlet onCustomProps = (key, value, store, ownProps) => {\r\n    return {\r\n        build_client_url: value\r\n    };\r\n};\r\nexport default fs.connect([], onCustomWatched, onCustomProps)(DevClientBundle);","G:\\GitHub\\fsg-platform\\fsg-client\\src\\components\\DevClientList.js",["160","161","162"],"import React, { Component, Fragment } from 'react';\r\nimport fs from 'flatstore';\r\nimport DevClientListItem from './DevClientListItem';\r\nclass DevClientList extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    renderList() {\r\n        let elems = [];\r\n        let game = fs.get('devgame');\r\n        if (!game.clients || game.clients.length == 0)\r\n            return [];\r\n        for (var i = 0; i < game.clients.length; i++) {\r\n            let client = game.clients[i];\r\n            elems.push(\r\n                <li key={client.id}>\r\n                    <DevClientListItem id={client.id}></DevClientListItem>\r\n                </li>\r\n            )\r\n        }\r\n        return elems;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"devclientlist\">\r\n                <ul>{this.renderList()}</ul>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default fs.connect(['devClientsCnt'])(DevClientList);","G:\\GitHub\\fsg-platform\\fsg-client\\src\\actions\\devgame.js",["163","164","165","166","167","168","169","170","171","172","173","174"],"import { POST, GET, POSTFORM } from './http';\r\n\r\nimport { validateSimple, validateField } from 'fsg-shared/util/validation';\r\nimport { genShortId } from 'fsg-shared/util/idgen';\r\n\r\nimport fs from 'flatstore';\r\nfs.set('devgameimages', []);\r\nfs.set('devgame', {});\r\nfs.set('devgameerror', []);\r\n\r\nfs.set('devClientsImages', []);\r\nfs.set('devClients', []);\r\nfs.set('devClientsError', []);\r\n\r\nfs.set('devServerImages', []);\r\nfs.set('devServers', []);\r\nfs.set('devServerError', []);\r\n\r\nfunction imagesToMap(images) {\r\n    let obj = {};\r\n    images.forEach((v, i) => {\r\n        v.file.index = i;\r\n        obj[v.file.name] = v;\r\n    });\r\n    return obj;\r\n}\r\n\r\nfunction sleep(ms) {\r\n    return new Promise(resolve => setTimeout(resolve, ms));\r\n}\r\n\r\n\r\n\r\nexport async function addImages(imgstore, nextImages, uploadFunc) {\r\n\r\n    let game = fs.get('devgame');\r\n    let curImages = fs.get(imgstore);\r\n    if (!curImages)\r\n        return;\r\n\r\n    let curMap = imagesToMap(curImages);\r\n    let nextMap = imagesToMap(nextImages);\r\n\r\n    let added = [];\r\n    let deleted = [];\r\n    for (var key in curMap) {\r\n        if (!(key in nextMap)) {\r\n            deleted.push(curMap[key]);\r\n        }\r\n    }\r\n\r\n    for (var key in nextMap) {\r\n        if (!(key in curMap)) {\r\n            let image = nextMap[key];\r\n\r\n            added.push(image);\r\n        }\r\n    }\r\n\r\n    if (added.length > 0) {\r\n\r\n        if (uploadFunc) {\r\n            uploadFunc(added, nextImages);\r\n\r\n        }\r\n    }\r\n\r\n\r\n    fs.set(imgstore, nextImages);\r\n}\r\n\r\nexport async function findClients(gameid) {\r\n    try {\r\n        let response = await GET('/api/v1/dev/find/clients/' + gameid);\r\n        let clients = response.data;\r\n\r\n        for (var i = 0; i < clients.length; i++) {\r\n            let client = clients[i];\r\n            if (client.preview_images) {\r\n                let images = [];\r\n                let list = client.preview_images.split(',');\r\n                for (var i = 0; i < list.length; i++) {\r\n                    let url = 'https://f000.backblazeb2.com/file/fivesecondgames/' + client.gameid + '/clients/preview/' + list[i];\r\n                    images.push({ data_url: url, file: {} });\r\n                }\r\n                fs.set('devclientimages_' + client.id, images);\r\n            }\r\n        }\r\n\r\n        fs.set('devclientserror', []);\r\n        console.log(clients);\r\n        fs.set('devclients', clients);\r\n        return clients;\r\n    }\r\n    catch (e) {\r\n        console.error(e);\r\n\r\n        if (e.response) {\r\n            const { response } = e;\r\n            const data = response.data;\r\n            fs.set('devclientserror', [data]);\r\n        }\r\n    }\r\n    return null;\r\n}\r\n\r\nfunction rowsToMap(list) {\r\n    let map = {};\r\n    for (var i = 0; i < list.length; i++) {\r\n        let obj = list[i];\r\n        map[obj.id] = obj;\r\n    }\r\n    return map;\r\n}\r\n\r\nexport async function findDevGames(userid) {\r\n    try {\r\n        let response = await GET('/api/v1/dev/games/' + userid);\r\n        let games = response.data;\r\n\r\n        fs.set('devgames', games);\r\n\r\n        return games;\r\n    }\r\n    catch (e) {\r\n        console.error(e);\r\n\r\n        if (e.response) {\r\n            const { response } = e;\r\n            const data = response.data;\r\n            fs.set('devgameerror', [data]);\r\n        }\r\n    }\r\n    return null;\r\n}\r\n\r\nexport async function findGame(gameid) {\r\n    try {\r\n        let response = await GET('/api/v1/dev/find/game/' + gameid);\r\n        let game = response.data;\r\n\r\n        if (game.preview_images) {\r\n            let images = [];\r\n            let list = game.preview_images.split(',');\r\n            for (var i = 0; i < list.length; i++) {\r\n                let url = 'https://f000.backblazeb2.com/file/fivesecondgames/' + game.gameid + '/preview/' + list[i];\r\n                images.push({ data_url: url, file: {} });\r\n            }\r\n            fs.set('devgameimages', images);\r\n        }\r\n\r\n        fs.set('devgameerror', []);\r\n        console.log(game);\r\n        fs.set('devgame', game);\r\n\r\n        fs.set('devClientsCnt', game.clients.length);\r\n        for (var i = 0; i < game.clients.length; i++) {\r\n            updateClient(game.clients[i]);\r\n        }\r\n\r\n\r\n        fs.set('devServersCnt', game.servers.length);\r\n        fs.set('devServers', rowsToMap(game.servers));\r\n\r\n        return game;\r\n    }\r\n    catch (e) {\r\n        console.error(e);\r\n\r\n        if (e.response) {\r\n            const { response } = e;\r\n            const data = response.data;\r\n            fs.set('devgameerror', [data]);\r\n        }\r\n    }\r\n    return null;\r\n}\r\n\r\nfunction updateClient(client) {\r\n    let game = fs.get('devgame');\r\n    let clients = game.clients;\r\n    if (!clients)\r\n        return;\r\n\r\n    fs.set('devClients-' + client.env, client);\r\n\r\n    var storageURL = 'https://f000.backblazeb2.com/file/fivesecondgames/';\r\n    var storagePath = client.gameid + '/client/' + client.id + '/'\r\n    if (client.preview_images) {\r\n        let images = [];\r\n        let list = client.preview_images.split(',');\r\n        for (var j = 0; j < list.length; j++) {\r\n            let url = storageURL + storagePath + list[j];\r\n            images.push({ data_url: url, file: {} });\r\n        }\r\n        fs.set('devclientimages_' + client.id, images);\r\n\r\n        let bundleURL = storageURL + storagePath + client.build_client;\r\n        fs.set('devClientBundle_' + client.id, bundleURL);\r\n    }\r\n}\r\n\r\nexport async function uploadClientBundle(client, file) {\r\n\r\n    let progress = {\r\n        onUploadProgress: progressEvent => {\r\n            console.log(progressEvent.loaded)\r\n        }\r\n    };\r\n\r\n    var formData = new FormData();\r\n    formData.append('clientid', client.id);\r\n    formData.append('gameid', client.gameid);\r\n    //images.forEach(image => {\r\n    formData.append(\"bundle\", file);\r\n    //})\r\n\r\n    let response = await POST('/api/v1/dev/update/client/bundle/' + client.id, formData, progress);\r\n    let updatedClient = response.data;\r\n\r\n    updateClient(updatedClient);\r\n\r\n    console.log(updatedClient);\r\n\r\n    return updatedClient\r\n}\r\n\r\n\r\nexport async function uploadClientImages(images, nextImages) {\r\n    var client = fs.get('devclient');\r\n    var preview_images = null;\r\n    for (var i = 0; i < images.length; i++) {\r\n        let image = images[i];\r\n\r\n        let response = await uploadClientImage(client, image);\r\n        preview_images = response.images;\r\n        console.log(preview_images);\r\n    }\r\n\r\n    if (preview_images) {\r\n        for (var i = 0; i < preview_images.length; i++) {\r\n            if (nextImages[i]) {\r\n                let url = 'https://f000.backblazeb2.com/file/fivesecondgames/' + client.gameid + '/client/' + client.id + '/' + preview_images[i];\r\n                nextImages[i].data_url = url;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport async function uploadClientImage(client, image) {\r\n    try {\r\n        let progress = {\r\n            onUploadProgress: progressEvent => {\r\n                console.log(progressEvent.loaded)\r\n            }\r\n        };\r\n\r\n        var formData = new FormData();\r\n        formData.append('clientid', client.id);\r\n        formData.append('gameid', client.gameid);\r\n        //images.forEach(image => {\r\n        formData.append(\"images\", image.file);\r\n        //})\r\n\r\n        let response = await POST('/api/v1/dev/update/client/images/' + client.id, formData, progress);\r\n        let client = response.data;\r\n        updateClient(client);\r\n        console.log(client);\r\n\r\n        return client;\r\n    }\r\n    catch (e) {\r\n        console.error(e);\r\n\r\n        if (e.response) {\r\n            const { response } = e;\r\n            const data = response.data;\r\n            fs.set('devgameerror', [data]);\r\n        }\r\n        throw e;\r\n    }\r\n\r\n}\r\n\r\nexport async function uploadGameImages(images, nextImages) {\r\n    var game = fs.get('devgame');\r\n    var preview_images = null;\r\n    for (var i = 0; i < images.length; i++) {\r\n        let image = images[i];\r\n\r\n        let response = await uploadGameImage(game.gameid, image);\r\n        preview_images = response.images;\r\n        console.log(preview_images);\r\n    }\r\n\r\n    if (preview_images) {\r\n        for (var i = 0; i < preview_images.length; i++) {\r\n            if (nextImages[i]) {\r\n                let url = 'https://f000.backblazeb2.com/file/fivesecondgames/' + game.gameid + '/preview/' + preview_images[i];\r\n                nextImages[i].data_url = url;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport async function uploadGameImage(gameid, image) {\r\n    try {\r\n        let progress = {\r\n            onUploadProgress: progressEvent => {\r\n                console.log(progressEvent.loaded)\r\n            }\r\n        };\r\n\r\n        var formData = new FormData();\r\n        formData.append('gameid', gameid);\r\n\r\n        //images.forEach(image => {\r\n        formData.append(\"images\", image.file);\r\n        //})\r\n\r\n        let response = await POST('/api/v1/dev/update/game/images/' + gameid, formData, progress);\r\n        let game = response.data;\r\n        console.log(game);\r\n\r\n        return game;\r\n    }\r\n    catch (e) {\r\n        console.error(e);\r\n\r\n        if (e.response) {\r\n            const { response } = e;\r\n            const data = response.data;\r\n            fs.set('devgameerror', [data]);\r\n        }\r\n        throw e;\r\n    }\r\n\r\n}\r\n\r\nexport async function updateGame() {\r\n    try {\r\n        let newGame = fs.get('devgame');\r\n\r\n        let errors = validateSimple('game_info', newGame);\r\n        if (errors.length > 0) {\r\n            fs.set('devgameerror', errors);\r\n            return newGame;\r\n        }\r\n\r\n        // var formData = new FormData();\r\n        // for (var key in newGame) {\r\n        //     let value = newGame[key];\r\n        //     if (value == null || key.indexOf(\"ts\") == 0)\r\n        //         continue;\r\n        //     formData.append(key, newGame[key]);\r\n        // }\r\n        // let images = fs.get('devgameimages');\r\n        // images.forEach(image => {\r\n        //     formData.append(\"images\", image.file, image.file.filename);\r\n        // })\r\n\r\n        // let response = await uploadImage(image, image.file.index, filename);\r\n        // console.log(response.data);\r\n\r\n\r\n        let response = await POST('/api/v1/dev/update/game', newGame);\r\n        let game = response.data;\r\n\r\n        //let imageResponse = await uploadImages();\r\n        //let gameWithImages = response.data;\r\n\r\n        //console.log(gameWithImages);\r\n\r\n        fs.set('devgameerror', []);\r\n        console.log(game);\r\n        return game;\r\n    }\r\n    catch (e) {\r\n        console.error(e);\r\n\r\n        if (e.response) {\r\n            const { response } = e;\r\n            const data = response.data;\r\n            fs.set('devgameerror', [data]);\r\n        }\r\n    }\r\n    return null;\r\n}\r\n\r\nexport async function updateGameField(name, value) {\r\n    let game = fs.get('devgame');\r\n\r\n    let prev = game[name];\r\n    game[name] = value;\r\n\r\n\r\n\r\n    let errors = validateField('game_info', game);\r\n    if (errors.length > 0) {\r\n        fs.set('devgameerror', errors);\r\n        game[name] = prev;\r\n        fs.set('devgame', game);\r\n        return game;\r\n    }\r\n\r\n    fs.set('devgame', game);\r\n\r\n    console.log(game);\r\n}\r\n\r\nexport async function updateClientField(name, value) {\r\n    let client = fs.get('devclient');\r\n\r\n    let errors = validateSimple('game_client', client);\r\n    if (errors.length > 0) {\r\n        fs.set('devclienterror', errors);\r\n        return client;\r\n    }\r\n\r\n    client[name] = value;\r\n\r\n    fs.set('devclient', client);\r\n\r\n    console.log(client);\r\n}\r\n\r\nexport async function updateServerField(name, value) {\r\n    let server = fs.get('devserver');\r\n\r\n    let errors = validateSimple('game_server', server);\r\n    if (errors.length > 0) {\r\n        fs.set('devservererror', errors);\r\n        return server;\r\n    }\r\n\r\n    server[name] = value;\r\n\r\n    fs.set('devserver', server);\r\n\r\n    console.log(server);\r\n}\r\n\r\nexport async function createClient(progressCB) {\r\n\r\n    try {\r\n        let game = fs.get('devgame');\r\n        let newClient = fs.get('devclient');\r\n\r\n        let errors = validateSimple('game_client', newClient);\r\n        if (errors.length > 0) {\r\n            fs.set('devclienterror', errors);\r\n            return newClient;\r\n        }\r\n\r\n        let response = await POST('/api/v1/dev/create/client/' + game.gameid, newClient);\r\n        let client = response.data;\r\n\r\n        fs.set('devclienterror', []);\r\n        console.log(client);\r\n        return client;\r\n    }\r\n    catch (e) {\r\n        console.error(e);\r\n\r\n        if (e.response) {\r\n            const { response } = e;\r\n            const data = response.data;\r\n\r\n            //const { request, ...errorObject } = response; // take everything but 'request'\r\n            //console.log(errorObject);\r\n\r\n            fs.set('devclienterror', [data]);\r\n        }\r\n\r\n\r\n    }\r\n    return null;\r\n}\r\n\r\n\r\nexport async function createServer(progressCB) {\r\n\r\n    try {\r\n        let game = fs.get('devgame');\r\n        let newServer = fs.get('devserver');\r\n\r\n        let errors = validateSimple('game_server', newServer);\r\n        if (errors.length > 0) {\r\n            fs.set('devservererror', errors);\r\n            return newServer;\r\n        }\r\n\r\n        let response = await POST('/api/v1/dev/create/server/' + game.gameid, newServer);\r\n        let server = response.data;\r\n\r\n        fs.set('devservererror', []);\r\n        console.log(server);\r\n        return server;\r\n    }\r\n    catch (e) {\r\n        console.error(e);\r\n\r\n        if (e.response) {\r\n            const { response } = e;\r\n            const data = response.data;\r\n\r\n            //const { request, ...errorObject } = response; // take everything but 'request'\r\n            //console.log(errorObject);\r\n\r\n            fs.set('devservererror', [data]);\r\n        }\r\n\r\n\r\n    }\r\n    return null;\r\n}\r\n\r\nexport async function clearGameFields() {\r\n    fs.set('devgame', {});\r\n}\r\nexport async function createGame(progressCB) {\r\n\r\n    try {\r\n        let newGame = fs.get('devgame');\r\n\r\n        let errors = validateSimple('game_info', newGame);\r\n        if (errors.length > 0) {\r\n            fs.set('devgameerror', errors);\r\n            return null;\r\n        }\r\n\r\n        let response = await POST('/api/v1/dev/create/game', newGame);\r\n        let game = response.data;\r\n\r\n        fs.set('devgameerror', []);\r\n        console.log(game);\r\n        return game;\r\n    }\r\n    catch (e) {\r\n        console.error(e);\r\n\r\n        if (e.response) {\r\n            const { response } = e;\r\n            const data = response.data;\r\n\r\n            //const { request, ...errorObject } = response; // take everything but 'request'\r\n            //console.log(errorObject);\r\n\r\n            fs.set('devgameerror', [data]);\r\n        }\r\n\r\n\r\n    }\r\n    return null;\r\n}","G:\\GitHub\\fsg-platform\\fsg-client\\src\\components\\DevImageUpload.js",["175"],"import React, { Component, Fragment } from 'react';\r\nimport ImageUploading from 'react-images-uploading';\r\nimport fs from 'flatstore';\r\nimport { addImages } from '../actions/devgame';\r\n\r\nimport DevImageUploadBox from './DevImageUploadBox';\r\n\r\nclass DevImageUpload extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.maxNumber = 1;\r\n\r\n        fs.set(props.imgstore, []);\r\n    }\r\n\r\n    onChange(imageList, addUpdateIndex) {\r\n        console.log(imageList, addUpdateIndex);\r\n        if (this.props.uploadFunc)\r\n            addImages(this.props.imgstore, imageList, this.props.uploadFunc);\r\n    };\r\n\r\n    drawImageBoxes(imageList, isDragging, dragProps, onImageUpload, onImageUpdate, onImageRemove) {\r\n        let imageboxes = [];\r\n        for (let index = 0; index < Math.min(imageList.length + 1, this.maxNumber); index++) {\r\n            let imagebox = (\r\n                <DevImageUploadBox\r\n                    key={'imageuploadbox-' + index}\r\n                    index={index}\r\n                    image={imageList[index]}\r\n                    isDragging={isDragging}\r\n                    dragProps={dragProps}\r\n                    onImageUpload={onImageUpload}\r\n                    onImageUpdate={onImageUpdate}\r\n                    onImageRemove={onImageRemove}\r\n                />\r\n            );\r\n            imageboxes.push(imagebox)\r\n        }\r\n        return imageboxes;\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"App\">\r\n                <ImageUploading\r\n                    multiple\r\n                    value={this.props[this.props.imgstore]}\r\n                    onChange={this.onChange.bind(this)}\r\n                    maxNumber={this.maxNumber}\r\n                    dataURLKey=\"data_url\"\r\n                >\r\n                    {({\r\n                        imageList,\r\n                        onImageUpload,\r\n                        onImageRemoveAll,\r\n                        onImageUpdate,\r\n                        onImageRemove,\r\n                        isDragging,\r\n                        dragProps,\r\n                        errors,\r\n                    }) => (\r\n                        <div className=\"upload__image-wrapper\">\r\n                            {\r\n                                errors && <div>\r\n                                    {errors.maxNumber && <span>Number of selected images exceed maxNumber</span>}\r\n                                    {errors.acceptType && <span>Your selected file type is not allow</span>}\r\n                                    {errors.maxFileSize && <span>Selected file size exceed maxFileSize</span>}\r\n                                    {errors.resolution && <span>Selected file is not match your desired resolution</span>}\r\n                                </div>\r\n                            }\r\n                            {this.drawImageBoxes(imageList, isDragging, dragProps, onImageUpload, onImageUpdate, onImageRemove)}\r\n                        </div>\r\n                    )}\r\n                </ImageUploading>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nlet onCustomWatched = ownProps => {\r\n    return [ownProps.imgstore];\r\n};\r\n\r\nexport default fs.connect([], onCustomWatched)(DevImageUpload);\r\n\r\n// export default fs.connect(['devgameimages'])(DevImageUpload);","G:\\GitHub\\fsg-platform\\fsg-client\\src\\actions\\http.js",[],"G:\\GitHub\\fsg-platform\\fsg-client\\src\\components\\DevClientListItem.js",["176","177","178","179"],"import React, { Component, Fragment } from 'react';\r\nimport fs from 'flatstore';\r\nimport DevImageUpload from './DevImageUpload'\r\nimport { updateGameField, updateGame, uploadClientImages } from '../actions/devgame';\r\nimport DevClientBundle from './DevClientBundle';\r\nclass DevClientListItem extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n\r\n    render() {\r\n        if (!this.props.client) {\r\n            return (\r\n                <div className=\"devclient loading\"></div>\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"devclient\">\r\n                <h4>{this.props.client.name}</h4>\r\n\r\n                <p>{this.props.client.description}</p>\r\n                <p>\r\n                    <a href={this.props.client.git_client}>{this.props.client.git_client}</a>\r\n                </p>\r\n                <div className=\"devclientuploadimage\">\r\n                    <DevImageUpload\r\n                        imgstore={'devclientimages_' + this.props.client.id}\r\n                        uploadFunc={(images, nextImages) => {\r\n                            fs.set('devclient', this.props.client);\r\n                            uploadClientImages(images, nextImages);\r\n                        }} />\r\n                </div>\r\n                <div className=\"devclientuploadbundle\">\r\n                    <DevClientBundle {...this.props.client} />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nlet onCustomWatched = ownProps => {\r\n    return ['devClients-' + ownProps.id];\r\n};\r\nlet onCustomProps = (key, value, store, ownProps) => {\r\n    return {\r\n        client: value\r\n    };\r\n};\r\nexport default fs.connect([], onCustomWatched, onCustomProps)(DevClientListItem);",["180","181"],"G:\\GitHub\\fsg-platform\\fsg-client\\src\\components\\DevImageUploadBox.js",[],"G:\\GitHub\\fsg-platform\\fsg-client\\src\\components\\GamePanel.js",["182","183"],"import { Component } from \"react\";\r\n\r\nimport {\r\n    withRouter,\r\n} from \"react-router-dom\";\r\n\r\n\r\n\r\nclass GameList extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.iframe = null;\r\n        this.state = {\r\n        }\r\n\r\n        this.onMessage = this.onMessage.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener(\r\n            'message',\r\n            this.onMessage,\r\n            false\r\n        );\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('message', this.onMessage, false);\r\n    }\r\n    onMessage(evt) {\r\n        let data = evt.data;\r\n        let origin = evt.origin;\r\n        let source = evt.source;\r\n        if (!data.payload || !data.action) return;\r\n        console.log('Received from origin:' + origin, data);\r\n        let msg = data.payload;\r\n        if (msg.indexOf(\"Hello\") > -1) {\r\n            this.send('connected', 'Welcome to 5SG!');\r\n        }\r\n    }\r\n\r\n    send(action, payload) {\r\n        if (this.iframe)\r\n            this.iframe.contentWindow.postMessage({ action, payload }, '*');\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"gamepanel\">\r\n                <h3>Let's Play</h3>\r\n                <button onClick={() => {\r\n                    this.send('ping', 'ping');\r\n                }}>\r\n                    Parent Button\r\n                    </button>\r\n                <iframe ref={(c) => {\r\n                    this.iframe = c;\r\n                }}\r\n                    src=\"http://localhost:8080/iframe\"\r\n                    sandbox=\"allow-scripts\" >\r\n\r\n                </iframe>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(GameList);","G:\\GitHub\\fsg-platform\\fsg-client\\src\\util\\PSON.js",["184"],"/*\n Copyright 2013 Daniel Wirtz <dcode@dcode.io>\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\n\n/**\n * @license PSON (c) 2013 Daniel Wirtz <dcode@dcode.io>\n * Released under the Apache License, Version 2.0\n * see: https://github.com/dcodeIO/PSON for details\n */\n\nimport bb from 'bytebuffer';\n\n// (function (global) {\n//     \"use strict\";\n\nfunction loadPSON(ByteBuffer) {\n    if (!ByteBuffer) {\n        throw (new Error(\"PSON requires ByteBuffer.js: Get it at https://github.com/dcodeIO/ByteBuffer.js\"));\n    }\n\n    /**\n     * PSON namespace.\n     * @exports PSON\n     * @namespace\n     */\n    var PSON = {};\n\n    /**\n     * @alias PSON.T\n     */\n    PSON.T = (function () {\n\n        /**\n         * PSON byte types.\n         * @exports PSON.T\n         * @namespace\n         */\n        var T = {};\n\n        T.ZERO = 0x00; // 0\n        //             0x01; // -1\n        //             0x02; // 1\n        //             ...   // zig-zag encoded varints\n        T.MAX = 0xEF; // -120, max. zig-zag encoded varint\n\n        T.NULL = 0xF0; // null\n        T.TRUE = 0xF1; // true\n        T.FALSE = 0xF2; // false\n        T.EOBJECT = 0xF3; // {}\n        T.EARRAY = 0xF4; // []\n        T.ESTRING = 0xF5; // \"\"\n        T.OBJECT = 0xF6; // {...}\n        T.ARRAY = 0xF7; // [...]\n        T.INTEGER = 0xF8; // number (zig-zag encoded varint32)\n        T.LONG = 0xF9; // Long   (zig-zag encoded varint64)\n        T.FLOAT = 0xFA; // number (float32)\n        T.DOUBLE = 0xFB; // number (float64)\n        T.STRING = 0xFC; // string (varint length + data)\n        T.STRING_ADD = 0xFD; // string (varint length + data, add to dictionary)\n        T.STRING_GET = 0xFE; // string (varint index to get from dictionary)\n        T.BINARY = 0xFF; // bytes (varint length + data)\n\n        return T;\n\n    })();\n\n    /**\n     * @alias PSON.Encoder\n     */\n    PSON.Encoder = (function (ByteBuffer, T) {\n\n        /**\n         * Float conversion test buffer.\n         * @type {!ByteBuffer}\n         */\n        var fbuf = new ByteBuffer(4);\n        //fbuf.length = 4;\n\n        /**\n         * Long.js.\n         * @type {?Long}\n         */\n        var Long = ByteBuffer.Long;\n\n        /**\n         * Constructs a new PSON Encoder.\n         * @exports PSON.Encoder\n         * @class A PSON Encoder.\n         * @param {Array.<string>=} dict Initial dictionary\n         * @param {boolean} progressive Whether this is a progressive or a static encoder\n         * @param {Object.<string,*>=} options Options\n         * @constructor\n         */\n        var Encoder = function (dict, progressive, options) {\n\n            /**\n             * Dictionary hash.\n             * @type {Object.<string,number>}\n             */\n            this.dict = {};\n\n            /**\n             * Next dictionary index.\n             * @type {number}\n             */\n            this.next = 0;\n            if (dict && Array.isArray(dict)) {\n                while (this.next < dict.length) {\n                    this.dict[dict[this.next]] = this.next++;\n                }\n            }\n\n            /**\n             * Whether the encoder is progressive or static.\n             * @type {boolean}\n             */\n            this.progressive = !!progressive;\n\n            /**\n             * Options.\n             * @type {Object.<string,*>}\n             */\n            this.options = options || {};\n        };\n\n        /**\n         * Encodes JSON to PSON.\n         * @param {*} json JSON\n         * @param {(!ByteBuffer)=} buf Buffer to encode to. When omitted, the resulting ByteBuffer will be flipped. When\n         *  specified, it will not be flipped.\n         * @returns {!ByteBuffer} PSON\n         */\n        Encoder.prototype.encode = function (json, buf) {\n            var doFlip = false;\n            if (!buf) {\n                buf = new ByteBuffer();\n                doFlip = true;\n            }\n            var le = buf.littleEndian;\n            try {\n                this._encodeValue(json, buf.LE());\n                buf.littleEndian = le;\n                return doFlip ? buf.flip() : buf;\n            } catch (e) {\n                buf.littleEndian = le;\n                throw (e);\n            }\n        };\n\n        /**\n         * Encodes a single JSON value to PSON.\n         * @param {*} val JSON value\n         * @param {!ByteBuffer} buf Target buffer\n         * @param {boolean=} excluded Whether keywords are to be excluded or not\n         * @private\n         */\n        Encoder.prototype._encodeValue = function (val, buf, excluded) {\n            if (val === null) {\n                buf.writeUint8(T.NULL);\n            } else {\n                switch (typeof val) {\n                    case 'function':\n                        val = val.toString();\n                    // fall through\n                    case 'string':\n                        if (val.length === 0) {\n                            buf.writeUint8(T.ESTRING);\n                        } else {\n                            if (this.dict.hasOwnProperty(val)) {\n                                buf.writeUint8(T.STRING_GET);\n                                buf.writeVarint32(this.dict[val]);\n                            } else {\n                                buf.writeUint8(T.STRING);\n                                buf.writeVString(val);\n                            }\n                        }\n                        break;\n                    case 'number':\n                        var intVal = parseInt(val);\n                        if (val === intVal) {\n                            var zzval = ByteBuffer.zigZagEncode32(val); // unsigned\n                            if (zzval <= T.MAX) {\n                                buf.writeUint8(zzval);\n                            } else {\n                                buf.writeUint8(T.INTEGER);\n                                buf.writeVarint32ZigZag(val);\n                            }\n                        } else {\n                            fbuf.writeFloat32(val, 0);\n                            if (val === fbuf.readFloat32(0)) {\n                                buf.writeUint8(T.FLOAT);\n                                buf.writeFloat32(val);\n                            } else {\n                                buf.writeUint8(T.DOUBLE);\n                                buf.writeFloat64(val);\n                            }\n                        }\n                        break;\n                    case 'boolean':\n                        buf.writeUint8(val ? T.TRUE : T.FALSE);\n                        break;\n                    case 'object':\n                        var i;\n                        if (Array.isArray(val)) {\n                            if (val.length === 0) {\n                                buf.writeUint8(T.EARRAY);\n                            } else {\n                                buf.writeUint8(T.ARRAY);\n                                buf.writeVarint32(val.length);\n                                for (i = 0; i < val.length; i++) {\n                                    this._encodeValue(val[i], buf);\n                                }\n                            }\n                        } else if (Long && val instanceof Long) {\n                            buf.writeUint8(T.LONG);\n                            buf.writeVarint64ZigZag(val);\n                        } else {\n                            try {\n                                val = ByteBuffer.wrap(val);\n                                buf.writeUint8(T.BINARY);\n                                buf.writeVarint32(val.remaining());\n                                buf.append(val);\n                            } catch (e) {\n                                var keys = Object.keys(val);\n                                var n = 0;\n                                for (i = 0; i < keys.length; i++) {\n                                    if (typeof val[keys[i]] !== 'undefined') n++;\n                                }\n                                if (n === 0) {\n                                    buf.writeUint8(T.EOBJECT);\n                                } else {\n                                    buf.writeUint8(T.OBJECT);\n                                    buf.writeVarint32(n);\n                                    if (!excluded) excluded = !!val._PSON_EXCL_;\n                                    for (i = 0; i < keys.length; i++) {\n                                        var key = keys[i];\n                                        if (typeof val[key] === 'undefined') continue;\n                                        if (this.dict.hasOwnProperty(key)) {\n                                            buf.writeUint8(T.STRING_GET);\n                                            buf.writeVarint32(this.dict[key]);\n                                        } else {\n                                            if (this.progressive && !excluded) {\n                                                // Add to dictionary\n                                                this.dict[key] = this.next++;\n                                                buf.writeUint8(T.STRING_ADD);\n                                            } else {\n                                                // Plain string\n                                                buf.writeUint8(T.STRING);\n                                            }\n                                            buf.writeVString(key);\n                                        }\n                                        this._encodeValue(val[key], buf);\n                                    }\n                                }\n                            }\n                        }\n                        break;\n                    case 'undefined':\n                        buf.writeUint8(T.NULL);\n                        break;\n                }\n            }\n        };\n\n        return Encoder;\n\n    })(ByteBuffer, PSON.T);\n\n    /**\n     * @alias PSON.Decoder\n     */\n    PSON.Decoder = (function (ByteBuffer, T) {\n\n        /**\n         * Long.js.\n         * @type {?Long}\n         */\n        var Long = ByteBuffer.Long;\n\n        /**\n         * Constructs a new PSON Decoder.\n         * @exports PSON.Decoder\n         * @class A PSON Decoder.\n         * @param {Array.<string>} dict Initial dictionary values\n         * @param {boolean} progressive Whether this is a progressive or a static decoder\n         * @param {Object.<string,*>=} options Options\n         * @constructor\n         */\n        var Decoder = function (dict, progressive, options) {\n\n            /**\n             * Dictionary array.\n             * @type {Array.<string>}\n             */\n            this.dict = (dict && Array.isArray(dict)) ? dict : [];\n\n            /**\n             * Whether this is a progressive or a static decoder.\n             * @type {boolean}\n             */\n            this.progressive = !!progressive;\n\n            /**\n             * Options.\n             * @type {Object.<string,*>}\n             */\n            this.options = options || {};\n        };\n\n        /**\n         * Decodes PSON to JSON.\n         * @param {!(ByteBuffer|ArrayBuffer|Buffer)} buf PSON\n         * @returns {?} JSON\n         */\n        Decoder.prototype.decode = function (buf) {\n            if (!(buf instanceof ByteBuffer)) {\n                buf = ByteBuffer.wrap(buf);\n            }\n            var le = buf.littleEndian;\n            try {\n                var val = this._decodeValue(buf.LE());\n                buf.littleEndian = le;\n                return val;\n            } catch (e) {\n                buf.littleEndian = le;\n                throw (e);\n            }\n        };\n\n        /**\n         * Decodes a single PSON value to JSON.\n         * @param {!ByteBuffer} buf Buffer to decode from\n         * @returns {?} JSON\n         * @private\n         */\n        Decoder.prototype._decodeValue = function (buf) {\n            var t = buf.readUint8();\n            if (t <= T.MAX) {\n                return ByteBuffer.zigZagDecode32(t);\n            } else {\n                switch (t) {\n                    case T.NULL: return null;\n                    case T.TRUE: return true;\n                    case T.FALSE: return false;\n                    case T.EOBJECT: return {};\n                    case T.EARRAY: return [];\n                    case T.ESTRING: return \"\";\n                    case T.OBJECT:\n                        t = buf.readVarint32(); // #keys\n                        var obj = {};\n                        while (--t >= 0) {\n                            obj[this._decodeValue(buf)] = this._decodeValue(buf);\n                        }\n                        return obj;\n                    case T.ARRAY:\n                        t = buf.readVarint32(); // #items\n                        var arr = [];\n                        while (--t >= 0) {\n                            arr.push(this._decodeValue(buf));\n                        }\n                        return arr;\n                    case T.INTEGER: return buf.readVarint32ZigZag();\n                    case T.LONG: // must not crash\n                        if (Long) return buf.readVarint64ZigZag();\n                        return buf.readVarint32ZigZag();\n                    case T.FLOAT: return buf.readFloat32();\n                    case T.DOUBLE: return buf.readFloat64();\n                    case T.STRING: return buf.readVString();\n                    case T.STRING_ADD:\n                        var str = buf.readVString();\n                        this.dict.push(str);\n                        return str;\n                    case T.STRING_GET:\n                        return this.dict[buf.readVarint32()];\n                    case T.BINARY:\n                        t = buf.readVarint32();\n                        var ret = buf.slice(buf.offset, buf.offset + t);\n                        buf.offset += t;\n                        return ret;\n                    default:\n                        throw (new Error(\"Illegal type at \" + buf.offset + \": \" + t));\n                }\n            }\n        };\n\n        return Decoder;\n\n    })(ByteBuffer, PSON.T);\n\n    /**\n     * @alias PSON.Pair\n     */\n    PSON.Pair = (function () {\n\n        /**\n         * Constructs a new abstract PSON encoder and decoder pair.\n         * @exports PSON.Pair\n         * @class An abstract PSON encoder and decoder pair.\n         * @constructor\n         * @abstract\n         */\n        var Pair = function () {\n\n            /**\n             * Encoder.\n             * @type {!PSON.Encoder}\n             * @expose\n             */\n            //this.encoder;\n\n            /**\n             * Decoder.\n             * @type {!PSON.Decoder}\n             * @expose\n             */\n            //this.decoder;\n        };\n\n        /**\n         * Encodes JSON to PSON.\n         * @param {*} json JSON\n         * @returns {!ByteBuffer} PSON\n         * @expose\n         */\n        Pair.prototype.encode = function (json) {\n            return this.encoder.encode(json);\n        };\n\n        /**\n         * Encodes JSON straight to an ArrayBuffer of PSON.\n         * @param {*} json JSON\n         * @returns {!ArrayBuffer} PSON as ArrayBuffer\n         * @expose\n         */\n        Pair.prototype.toArrayBuffer = function (json) {\n            return this.encoder.encode(json).toArrayBuffer();\n        };\n\n        /**\n         * Encodes JSON straight to a node Buffer of PSON.\n         * @param {*} json JSON\n         * @returns {!Buffer} PSON as node Buffer\n         * @expose\n         */\n        Pair.prototype.toBuffer = function (json) {\n            return this.encoder.encode(json).toBuffer();\n        };\n\n        /**\n         * Decodes PSON to JSON.\n         * @param {ByteBuffer|ArrayBuffer|Buffer} pson PSON\n         * @returns {*} JSON\n         * @expose\n         */\n        Pair.prototype.decode = function (pson) {\n            return this.decoder.decode(pson);\n        };\n\n        return Pair;\n    })();\n\n    /**\n     * @alias PSON.StaticPair\n     */\n    PSON.StaticPair = (function (Pair, Encoder, Decoder) {\n\n        /**\n         * Constructs a new static PSON encoder and decoder pair.\n         * @exports PSON.StaticPair\n         * @class A static PSON encoder and decoder pair.\n         * @param {Array.<string>=} dict Static dictionary\n         * @param {Object.<string,*>=} options Options\n         * @constructor\n         * @extends PSON.Pair\n         */\n        var StaticPair = function (dict, options) {\n            Pair.call(this);\n\n            this.encoder = new Encoder(dict, false, options);\n            this.decoder = new Decoder(dict, false, options);\n        };\n\n        // Extends PSON.Pair\n        StaticPair.prototype = Object.create(Pair.prototype);\n\n        return StaticPair;\n\n    })(PSON.Pair, PSON.Encoder, PSON.Decoder);\n\n    /**\n     * @alias PSON.ProgressivePair\n     */\n    PSON.ProgressivePair = (function (Pair, Encoder, Decoder) {\n\n        /**\n         * Constructs a new progressive PSON encoder and decoder pair.\n         * @exports PSON.ProgressivePair\n         * @class A progressive PSON encoder and decoder pair.\n         * @param {Array.<string>=} dict Initial dictionary\n         * @param {Object.<string,*>=} options Options\n         * @constructor\n         * @extends PSON.Pair\n         */\n        var ProgressivePair = function (dict, options) {\n            Pair.call(this);\n\n            this.encoder = new Encoder(dict, true, options);\n            this.decoder = new Decoder(dict, true, options);\n        };\n\n        // Extends PSON.Pair\n        ProgressivePair.prototype = Object.create(Pair.prototype);\n\n        /**\n         * Alias for {@link PSON.exclude}.\n         * @param {Object} obj Now excluded object\n         */\n        ProgressivePair.prototype.exclude = function (obj) {\n            PSON.exclude(obj);\n        };\n\n        /**\n         * Alias for {@link PSON.include}.\n         * @param {Object} obj New included object\n         */\n        ProgressivePair.prototype.include = function (obj) {\n            PSON.include(obj);\n        };\n\n        return ProgressivePair;\n\n    })(PSON.Pair, PSON.Encoder, PSON.Decoder);\n\n    /**\n     * Excluces an object's and its children's keys from being added to a progressive dictionary.\n     * @param {Object} obj Now excluded object\n     */\n    PSON.exclude = function (obj) {\n        if (typeof obj === 'object') {\n            Object.defineProperty(obj, \"_PSON_EXCL_\", {\n                value: true,\n                enumerable: false,\n                configurable: true\n            });\n        }\n    };\n\n    /**\n     * Undoes exclusion of an object's and its children's keys from being added to a progressive dictionary.\n     * @param {Object} obj Now included object\n     */\n    PSON.include = function (obj) {\n        if (typeof obj === 'object') {\n            delete obj[\"_PSON_EXCL_\"];\n        }\n    };\n\n    return PSON;\n}\n\n// Enable module loading if available\n//if (typeof module != 'undefined' && module[\"exports\"]) { // CommonJS\n// module[\"exports\"] = loadPSON(require(\"byte-buffer\"));\n// }\n//else if (typeof define != 'undefined' && define[\"amd\"]) { // AMD\n//define(\"PSON\", [\"byte-buffer\"], loadPSON);\n//} \n//else {\n//    if (!global[\"dcodeIO\"]) {\n//        global[\"dcodeIO\"] = {};\n//    }\n//    global[\"dcodeIO\"][\"PSON\"] = loadPSON(global[\"dcodeIO\"][\"byte-buffer\"]);\n//}\n\n// })(this);\n\nexport default loadPSON(bb);",["185","186"],{"ruleId":"187","replacedBy":"188"},{"ruleId":"189","replacedBy":"190"},{"ruleId":"191","severity":1,"message":"192","line":6,"column":3,"nodeType":"193","messageId":"194","endLine":6,"endColumn":7},{"ruleId":"191","severity":1,"message":"195","line":7,"column":8,"nodeType":"193","messageId":"194","endLine":7,"endColumn":19},{"ruleId":"196","severity":1,"message":"197","line":40,"column":40,"nodeType":"198","messageId":"199","endLine":40,"endColumn":42},{"ruleId":"191","severity":1,"message":"200","line":1,"column":21,"nodeType":"193","messageId":"194","endLine":1,"endColumn":29},{"ruleId":"191","severity":1,"message":"192","line":5,"column":5,"nodeType":"193","messageId":"194","endLine":5,"endColumn":9},{"ruleId":"201","severity":1,"message":"202","line":11,"column":5,"nodeType":"203","messageId":"204","endLine":13,"endColumn":6},{"ruleId":"196","severity":1,"message":"205","line":16,"column":74,"nodeType":"198","messageId":"199","endLine":16,"endColumn":76},{"ruleId":"191","severity":1,"message":"192","line":5,"column":5,"nodeType":"193","messageId":"194","endLine":5,"endColumn":9},{"ruleId":"201","severity":1,"message":"202","line":10,"column":5,"nodeType":"203","messageId":"204","endLine":12,"endColumn":6},{"ruleId":"196","severity":1,"message":"205","line":15,"column":74,"nodeType":"198","messageId":"199","endLine":15,"endColumn":76},{"ruleId":"206","severity":1,"message":"207","line":22,"column":53,"nodeType":"208","endLine":22,"endColumn":64},{"ruleId":"196","severity":1,"message":"197","line":23,"column":24,"nodeType":"198","messageId":"199","endLine":23,"endColumn":26},{"ruleId":"196","severity":1,"message":"197","line":26,"column":29,"nodeType":"198","messageId":"199","endLine":26,"endColumn":31},{"ruleId":"191","severity":1,"message":"209","line":36,"column":13,"nodeType":"193","messageId":"194","endLine":36,"endColumn":20},{"ruleId":"210","severity":1,"message":"211","line":59,"column":41,"nodeType":"212","messageId":"213","endLine":59,"endColumn":42,"suggestions":"214"},{"ruleId":"191","severity":1,"message":"200","line":1,"column":21,"nodeType":"193","messageId":"194","endLine":1,"endColumn":29},{"ruleId":"191","severity":1,"message":"215","line":9,"column":8,"nodeType":"193","messageId":"194","endLine":9,"endColumn":21},{"ruleId":"191","severity":1,"message":"216","line":6,"column":8,"nodeType":"193","messageId":"194","endLine":6,"endColumn":22},{"ruleId":"191","severity":1,"message":"217","line":3,"column":10,"nodeType":"193","messageId":"194","endLine":3,"endColumn":22},{"ruleId":"191","severity":1,"message":"195","line":9,"column":8,"nodeType":"193","messageId":"194","endLine":9,"endColumn":19},{"ruleId":"196","severity":1,"message":"197","line":25,"column":119,"nodeType":"198","messageId":"199","endLine":25,"endColumn":121},{"ruleId":"218","severity":1,"message":"219","line":25,"column":5,"nodeType":"220","messageId":"221","endLine":25,"endColumn":17},{"ruleId":"196","severity":1,"message":"197","line":44,"column":58,"nodeType":"198","messageId":"199","endLine":44,"endColumn":60},{"ruleId":"218","severity":1,"message":"219","line":54,"column":5,"nodeType":"220","messageId":"221","endLine":54,"endColumn":17},{"ruleId":"191","severity":1,"message":"216","line":6,"column":8,"nodeType":"193","messageId":"194","endLine":6,"endColumn":22},{"ruleId":"191","severity":1,"message":"200","line":1,"column":28,"nodeType":"193","messageId":"194","endLine":1,"endColumn":36},{"ruleId":"191","severity":1,"message":"216","line":3,"column":8,"nodeType":"193","messageId":"194","endLine":3,"endColumn":22},{"ruleId":"191","severity":1,"message":"222","line":4,"column":10,"nodeType":"193","messageId":"194","endLine":4,"endColumn":25},{"ruleId":"191","severity":1,"message":"223","line":4,"column":27,"nodeType":"193","messageId":"194","endLine":4,"endColumn":37},{"ruleId":"191","severity":1,"message":"224","line":25,"column":17,"nodeType":"193","messageId":"194","endLine":25,"endColumn":32},{"ruleId":"191","severity":1,"message":"200","line":1,"column":28,"nodeType":"193","messageId":"194","endLine":1,"endColumn":36},{"ruleId":"201","severity":1,"message":"202","line":5,"column":5,"nodeType":"203","messageId":"204","endLine":7,"endColumn":6},{"ruleId":"196","severity":1,"message":"197","line":12,"column":50,"nodeType":"198","messageId":"199","endLine":12,"endColumn":52},{"ruleId":"191","severity":1,"message":"225","line":1,"column":21,"nodeType":"193","messageId":"194","endLine":1,"endColumn":29},{"ruleId":"191","severity":1,"message":"226","line":4,"column":10,"nodeType":"193","messageId":"194","endLine":4,"endColumn":20},{"ruleId":"191","severity":1,"message":"227","line":28,"column":10,"nodeType":"193","messageId":"194","endLine":28,"endColumn":15},{"ruleId":"191","severity":1,"message":"228","line":36,"column":9,"nodeType":"193","messageId":"194","endLine":36,"endColumn":13},{"ruleId":"229","severity":1,"message":"230","line":52,"column":14,"nodeType":"193","messageId":"231","endLine":52,"endColumn":17},{"ruleId":"229","severity":1,"message":"232","line":82,"column":26,"nodeType":"193","messageId":"231","endLine":82,"endColumn":27},{"ruleId":"229","severity":1,"message":"232","line":157,"column":18,"nodeType":"193","messageId":"231","endLine":157,"endColumn":19},{"ruleId":"229","severity":1,"message":"232","line":241,"column":18,"nodeType":"193","messageId":"231","endLine":241,"endColumn":19},{"ruleId":"233","severity":1,"message":"234","line":259,"column":37,"nodeType":"193","messageId":"235","endLine":259,"endColumn":43},{"ruleId":"233","severity":1,"message":"234","line":260,"column":35,"nodeType":"193","messageId":"235","endLine":260,"endColumn":41},{"ruleId":"233","severity":1,"message":"234","line":265,"column":73,"nodeType":"193","messageId":"235","endLine":265,"endColumn":79},{"ruleId":"229","severity":1,"message":"232","line":297,"column":18,"nodeType":"193","messageId":"231","endLine":297,"endColumn":19},{"ruleId":"191","severity":1,"message":"200","line":1,"column":28,"nodeType":"193","messageId":"194","endLine":1,"endColumn":36},{"ruleId":"191","severity":1,"message":"200","line":1,"column":28,"nodeType":"193","messageId":"194","endLine":1,"endColumn":36},{"ruleId":"191","severity":1,"message":"222","line":4,"column":10,"nodeType":"193","messageId":"194","endLine":4,"endColumn":25},{"ruleId":"191","severity":1,"message":"223","line":4,"column":27,"nodeType":"193","messageId":"194","endLine":4,"endColumn":37},{"ruleId":"201","severity":1,"message":"202","line":7,"column":5,"nodeType":"203","messageId":"204","endLine":9,"endColumn":6},{"ruleId":"187","replacedBy":"236"},{"ruleId":"189","replacedBy":"237"},{"ruleId":"191","severity":1,"message":"238","line":34,"column":13,"nodeType":"193","messageId":"194","endLine":34,"endColumn":19},{"ruleId":"239","severity":1,"message":"240","line":57,"column":17,"nodeType":"208","endLine":61,"endColumn":46},{"ruleId":"241","severity":1,"message":"242","line":173,"column":17,"nodeType":"243","messageId":"244","endLine":273,"endColumn":18},{"ruleId":"187","replacedBy":"245"},{"ruleId":"189","replacedBy":"246"},"no-native-reassign",["247"],"no-negated-in-lhs",["248"],"no-unused-vars","'Link' is defined but never used.","Identifier","unusedVar","'SocialLogin' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'Fragment' is defined but never used.","no-useless-constructor","Useless constructor.","MethodDefinition","noUselessConstructor","Expected '!==' and instead saw '!='.","jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","'history' is assigned a value but never used.","no-useless-escape","Unnecessary escape character: \\_.","Literal","unnecessaryEscape",["249","250"],"'DevClientList' is defined but never used.","'DevImageUpload' is defined but never used.","'findDevGames' is defined but never used.","no-unreachable","Unreachable code.","ReturnStatement","unreachableCode","'updateGameField' is defined but never used.","'updateGame' is defined but never used.","'currentTimeZone' is assigned a value but never used.","'POSTFORM' is defined but never used.","'genShortId' is defined but never used.","'sleep' is defined but never used.","'game' is assigned a value but never used.","no-redeclare","'key' is already defined.","redeclared","'i' is already defined.","no-use-before-define","'client' was used before it was defined.","usedBeforeDefined",["247"],["248"],"'source' is assigned a value but never used.","jsx-a11y/iframe-has-title","<iframe> elements must have a unique title property.","default-case","Expected a default case.","SwitchStatement","missingDefaultCase",["247"],["248"],"no-global-assign","no-unsafe-negation",{"messageId":"251","fix":"252","desc":"253"},{"messageId":"254","fix":"255","desc":"256"},"removeEscape",{"range":"257","text":"258"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"259","text":"260"},"Replace the `\\` with `\\\\` to include the actual backslash character.",[1608,1609],"",[1608,1608],"\\"]